{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "13bfa609_e88b1a7e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 28
      },
      "writtenOn": "2023-09-01T09:36:35Z",
      "side": 1,
      "message": "It\u0027s recommended to use psycopg2-binary instead. Works with python3.11",
      "range": {
        "startLine": 11,
        "startChar": 48,
        "endLine": 13,
        "endChar": 50
      },
      "revId": "c2c5f688f2231a1c05d7d7041780456f41ca8724",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eab732e9_0566af00",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 648
      },
      "writtenOn": "2023-09-01T20:33:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "13bfa609_e88b1a7e",
      "range": {
        "startLine": 11,
        "startChar": 48,
        "endLine": 13,
        "endChar": 50
      },
      "revId": "c2c5f688f2231a1c05d7d7041780456f41ca8724",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ae2d37ce_b8507ab8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 28
      },
      "writtenOn": "2023-09-01T09:36:35Z",
      "side": 1,
      "message": "See comments inline.\n\nThe dependencies version constraints in requirements.txt should be removed also.\n\nOne issue remains: we should install DCI dependencies (dciauth, dci-umb) \"local\" copy instead of public/remote (the directories should be available when building with Zuul if the project is configured correctly)",
      "revId": "c2c5f688f2231a1c05d7d7041780456f41ca8724",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "706623ec_61b5ce06",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 648
      },
      "writtenOn": "2023-09-01T20:33:26Z",
      "side": 1,
      "message": "Bumping all the way to python 3.11 breaks all sorts of things which I am not 100% comfortable with. For example, SQLAlchemy needs at least 1 major version bump to use python 3.11, which requires several changes in the internals. This may also be true for other libraries but SQLA is the first one (and the most important imo) I\u0027ve seen.\nI propose we port it to run under gunicorn first, with whatever version of python3 we can reasonably install, then bump libraries gradually.",
      "parentUuid": "ae2d37ce_b8507ab8",
      "revId": "c2c5f688f2231a1c05d7d7041780456f41ca8724",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1a4ddc33_f51858a9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 28
      },
      "writtenOn": "2023-09-04T15:12:37Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "706623ec_61b5ce06",
      "revId": "c2c5f688f2231a1c05d7d7041780456f41ca8724",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03194a25_13340cd4",
        "filename": "Dockerfile",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 28
      },
      "writtenOn": "2023-09-01T09:36:35Z",
      "side": 1,
      "message": "can be removed",
      "range": {
        "startLine": 11,
        "startChar": 42,
        "endLine": 11,
        "endChar": 58
      },
      "revId": "c2c5f688f2231a1c05d7d7041780456f41ca8724",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "33d78ffd_ef8f8684",
        "filename": "Dockerfile",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 648
      },
      "writtenOn": "2023-09-01T20:33:26Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "03194a25_13340cd4",
      "range": {
        "startLine": 11,
        "startChar": 42,
        "endLine": 11,
        "endChar": 58
      },
      "revId": "c2c5f688f2231a1c05d7d7041780456f41ca8724",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8afa2434_586b62bb",
        "filename": "Dockerfile",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 28
      },
      "writtenOn": "2023-09-01T09:36:35Z",
      "side": 1,
      "message": "can be removed",
      "range": {
        "startLine": 15,
        "startChar": 41,
        "endLine": 15,
        "endChar": 57
      },
      "revId": "c2c5f688f2231a1c05d7d7041780456f41ca8724",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d8abb4b9_8f2c8415",
        "filename": "Dockerfile",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 648
      },
      "writtenOn": "2023-09-01T20:33:26Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "8afa2434_586b62bb",
      "range": {
        "startLine": 15,
        "startChar": 41,
        "endLine": 15,
        "endChar": 57
      },
      "revId": "c2c5f688f2231a1c05d7d7041780456f41ca8724",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a7198d8_dfa037c7",
        "filename": "Dockerfile",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 28
      },
      "writtenOn": "2023-09-01T09:36:35Z",
      "side": 1,
      "message": "For development purposes I suggest to add `--reload` to have auto-reload on code change.\nThis would have to change for production but would be overridden by the systemd unit file or other starting mechanism.",
      "revId": "c2c5f688f2231a1c05d7d7041780456f41ca8724",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c8bd21c5_72cd1a08",
        "filename": "Dockerfile",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 648
      },
      "writtenOn": "2023-09-01T20:33:26Z",
      "side": 1,
      "message": "For --reload to work you\u0027d also have to manually run the container with a volume attached to it anyway. I am adding a gunicorn.conf.py you can mount as well, something like `podman run -v $PWD:/usr/src/dci-control-server -v custom.conf.py:/etc/gunicorn.conf.py dci-cs-image:latest` I am definitely not enabling live reload code for the production image tho",
      "parentUuid": "0a7198d8_dfa037c7",
      "revId": "c2c5f688f2231a1c05d7d7041780456f41ca8724",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7e6d07c9_8e1bc18f",
        "filename": "Dockerfile",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 28
      },
      "writtenOn": "2023-09-04T15:12:37Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c8bd21c5_72cd1a08",
      "revId": "c2c5f688f2231a1c05d7d7041780456f41ca8724",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}