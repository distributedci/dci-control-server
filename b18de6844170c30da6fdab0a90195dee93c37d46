{
  "comments": [
    {
      "key": {
        "uuid": "ba15a1d1_411788ed",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 30
      },
      "writtenOn": "2018-05-02T17:32:44Z",
      "side": 1,
      "message": "s/removeis/removes/",
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_21adb488",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 29
      },
      "writtenOn": "2018-05-02T23:41:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ba15a1d1_411788ed",
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_c1e15800",
        "filename": "dci/alembic/versions/114108caa80f_add_job_events_table.py",
        "patchSetId": 7
      },
      "lineNbr": 48,
      "author": {
        "id": 56
      },
      "writtenOn": "2018-05-02T17:19:48Z",
      "side": 1,
      "message": "I\u0027m wondering if those column need to have a FK config. WDYT ?",
      "range": {
        "startLine": 47,
        "startChar": 0,
        "endLine": 48,
        "endChar": 69
      },
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_c19dd85a",
        "filename": "dci/alembic/versions/114108caa80f_add_job_events_table.py",
        "patchSetId": 7
      },
      "lineNbr": 48,
      "author": {
        "id": 29
      },
      "writtenOn": "2018-05-02T23:41:35Z",
      "side": 1,
      "message": "As the files_events it will prevent to purge the referenced resource.\n\nhttps://github.com/redhat-cip/dci-control-server/blob/master/dci/db/models.py#L410",
      "parentUuid": "ba15a1d1_c1e15800",
      "range": {
        "startLine": 47,
        "startChar": 0,
        "endLine": 48,
        "endChar": 69
      },
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_e1d25c34",
        "filename": "dci/api/v1/jobs.py",
        "patchSetId": 7
      },
      "lineNbr": 402,
      "author": {
        "id": 56
      },
      "writtenOn": "2018-05-02T17:19:48Z",
      "side": 1,
      "message": "only for debug I guess ?",
      "range": {
        "startLine": 401,
        "startChar": 4,
        "endLine": 402,
        "endChar": 25
      },
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_01d8b052",
        "filename": "dci/api/v1/jobs.py",
        "patchSetId": 7
      },
      "lineNbr": 402,
      "author": {
        "id": 30
      },
      "writtenOn": "2018-05-02T17:32:44Z",
      "side": 1,
      "message": "^",
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_e18edc26",
        "filename": "dci/api/v1/jobs.py",
        "patchSetId": 7
      },
      "lineNbr": 402,
      "author": {
        "id": 29
      },
      "writtenOn": "2018-05-02T23:41:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ba15a1d1_01d8b052",
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_a1dc6447",
        "filename": "dci/api/v1/jobs.py",
        "patchSetId": 7
      },
      "lineNbr": 414,
      "author": {
        "id": 30
      },
      "writtenOn": "2018-05-02T17:32:44Z",
      "side": 1,
      "message": "we now also have the \u0027error\u0027 status.",
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_61a3ac9f",
        "filename": "dci/api/v1/jobs.py",
        "patchSetId": 7
      },
      "lineNbr": 414,
      "author": {
        "id": 29
      },
      "writtenOn": "2018-05-02T23:41:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ba15a1d1_a1dc6447",
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_81e4c00d",
        "filename": "dci/api/v1/jobstates.py",
        "patchSetId": 7
      },
      "lineNbr": 87,
      "author": {
        "id": 30
      },
      "writtenOn": "2018-05-02T17:32:44Z",
      "side": 1,
      "message": "you can use: values[\u0027status\u0027] to make clear the status key has to be defined.",
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_01943035",
        "filename": "dci/api/v1/jobstates.py",
        "patchSetId": 7
      },
      "lineNbr": 87,
      "author": {
        "id": 29
      },
      "writtenOn": "2018-05-02T23:41:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ba15a1d1_81e4c00d",
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_21f134ce",
        "filename": "dci/db/models.py",
        "patchSetId": 7
      },
      "lineNbr": 30,
      "author": {
        "id": 30
      },
      "writtenOn": "2018-05-02T17:32:44Z",
      "side": 1,
      "message": "please add \u0027error\u0027 in the list.",
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_e1b57cd0",
        "filename": "dci/db/models.py",
        "patchSetId": 7
      },
      "lineNbr": 30,
      "author": {
        "id": 29
      },
      "writtenOn": "2018-05-02T23:41:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ba15a1d1_21f134ce",
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_41eea8ed",
        "filename": "dci/db/models.py",
        "patchSetId": 7
      },
      "lineNbr": 410,
      "author": {
        "id": 30
      },
      "writtenOn": "2018-05-02T17:32:44Z",
      "side": 1,
      "message": "What about the job deletion. With the FK, the associated job_event will prevent the job purge(?). Because of that you won\u0027t be able to identify clean up the deleted jobs from the ES. I believe you should instead keep the record and create a new one with a status\u003d\u0027deleted\u0027. WDYT?",
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_a198e46b",
        "filename": "dci/db/models.py",
        "patchSetId": 7
      },
      "lineNbr": 410,
      "author": {
        "id": 29
      },
      "writtenOn": "2018-05-02T23:41:35Z",
      "side": 1,
      "message": "There is no FK constraint in the JOBS_EVENTS table. Thus, it will not prevent JOBS deletion. We don\u0027t need to explicitly remove jobs from ES, instead, there is a policy retention so that it can be handled independently.",
      "parentUuid": "ba15a1d1_41eea8ed",
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_e1b9fced",
        "filename": "tests/api/v1/test_jobs_events.py",
        "patchSetId": 7
      },
      "lineNbr": 52,
      "author": {
        "id": 30
      },
      "writtenOn": "2018-05-02T17:32:44Z",
      "side": 1,
      "message": "Could you add a job purge test in ./tests/api/v1/test_jobs.py to ensure the job can still be deleted with the new FK.",
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba15a1d1_01bbd0c5",
        "filename": "tests/api/v1/test_jobs_events.py",
        "patchSetId": 7
      },
      "lineNbr": 52,
      "author": {
        "id": 29
      },
      "writtenOn": "2018-05-02T23:41:35Z",
      "side": 1,
      "message": "There is no FK constraints.",
      "parentUuid": "ba15a1d1_e1b9fced",
      "revId": "b18de6844170c30da6fdab0a90195dee93c37d46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    }
  ]
}