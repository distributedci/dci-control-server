{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "88b42d45_0de2e34b",
        "filename": "dci/api/v1/notifications.py",
        "patchSetId": 4
      },
      "lineNbr": 159,
      "author": {
        "id": 28
      },
      "writtenOn": "2022-04-25T19:44:43Z",
      "side": 1,
      "message": "Since you don\u0027t need data from topic, maybe it should be just discarded.\n\nAlso, since what we need is data from the user (and just its email), I think it might be better to get just the email from the user table and join on UserTopic + add the constraint on this table.\n\nSomething like the following would be clearer I think:\n\nflask.g.session.query(models2.User.email)\n                 .join(models2.UserTopic)\n                 .filter(models2.UserTopic.topic_id \u003d\u003d topic_id)\n                 .all()",
      "range": {
        "startLine": 155,
        "startChar": 0,
        "endLine": 159,
        "endChar": 9
      },
      "revId": "fa4d4f938b9f4c9ff8bafffdac17cf2fefd114ea",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "daebff12_eafe6015",
        "filename": "dci/api/v1/notifications.py",
        "patchSetId": 4
      },
      "lineNbr": 159,
      "author": {
        "id": 29
      },
      "writtenOn": "2022-04-25T20:22:26Z",
      "side": 1,
      "message": "Nice catch, will remove the join on Topic.\n\nWith the ORM, you cannot do explicit joins like this, instead you must use the relationships between the mapped classes. In this case it\u0027s the UserTopic class that hold the users field. So the join if from UserTopic to User.\n\nI could be wrong, this is my understanding.",
      "parentUuid": "88b42d45_0de2e34b",
      "range": {
        "startLine": 155,
        "startChar": 0,
        "endLine": 159,
        "endChar": 9
      },
      "revId": "fa4d4f938b9f4c9ff8bafffdac17cf2fefd114ea",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}